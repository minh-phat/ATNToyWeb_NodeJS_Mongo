{{>headerAdmin}}

<div class="main-panel">
    <div class="content-wrapper">
        <div class="row">
            <div class="col-lg-12 grid-margin stretch-card">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title" style="font-size: 30px; font-weight: bold;">Products List</h4>
                        <form class="ml-auto search-form d-none d-md-block" style="width: 300px;"
                            action="/searchProduct?name=">
                            <div class="form-group">
                                <input type="search" class="form-control" placeholder="Search for products"
                                    name="search">
                            </div>
                        </form>
                        <p>
                        <div style="width: 100%; height: 30px;">
                            <button type="button" class="btn btn-primary"
                                style="position: absolute; right: 30px; height: 35px; background-color: #78aa2d; border-color: #749445; border-width:2px;">
                                <a href="/newProduct" style="text-decoration: none; color: inherit;">Add more toy</a>
                            </button>
                        </div>
                        </p>

                        {{!-- Show error message --}}
                        {{#if messageSuccess}}
                        <div class="form-group">
                            <h5 style="width: 100%;background-color:#33A2B8;color:#fff;border-radius: 0.25rem; height:auto; padding: 10px; font-weight: 50px"
                                id="message" onclick="this.remove()">
                                <i class="fa-solid fa-circle-info"></i> {{messageSuccess}}
                            </h5>
                        </div>
                        {{/if}}

                        {{#if messageError}}
                        <div class="form-group">
                            <h5 style="width: 100%;background-color:#e45052;color:#fff;border-radius: 0.25rem; height:auto; padding: 10px; font-weight: 50px"
                                id="message" onclick="this.remove()">
                                <i class="fa-solid fa-circle-info"></i> {{messageError}}
                            </h5>
                        </div>
                        {{/if}}

                        <table class="table table-hover" style="text-align: center; table-layout: fixed">
                            <thead style="background-color: #264653;">
                                <tr>
                                    <th style="color: #f1faee; font-weight: bold">Product Name</th>
                                    <th style="color: #f1faee; font-weight: bold">Category</th>
                                    <th style="color: #f1faee; font-weight: bold">Description</th>
                                    <th style="color: #f1faee; font-weight: bold">Price</th>
                                    <th style="color: #f1faee; font-weight: bold">Image</th>
                                    <th style="color: #f1faee; font-weight: bold">Stock</th>
                                    <th style="width: 150px!important; color: #f1faee; font-weight: bold">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each products}}
                                <tr>
                                    <td style="word-wrap: break-word; white-space: normal">{{this.product_name}}</td>
                                    <td>{{this.category.category_name}}</td>
                                    <td style="word-wrap: break-word; white-space: normal">{{this.description}}</td>
                                    <td>{{this.price}}</td>
                                    <td style="word-wrap: break-word; white-space: normal"><img
                                            src="img/products/{{this.image}}" alt="Image for {{this.product_name}}"
                                            style="width:200px !important; height:200px !important; border-radius: 5% !important;">
                                    </td>
                                    <td>{{this.stock}}</td>
                                    <td>
                                        <a href="/updateProduct?id={{this._id}}" class="btn btn-info">
                                            <i class="fas fa-edit"></i>
                                        </a>
                                        <a href="/deleteProduct?id={{this._id}}" class="btn btn-danger"
                                            onclick="return confirm('Are you sure you want to delete this toy?')">
                                            <i class="fas fa-trash-alt"></i>
                                        </a>
                                    </td>
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- container-scroller -->
<!-- plugins:js -->
<script src="../../assets/vendors/js/vendor.bundle.base.js"></script>
<script src="../../assets/vendors/js/vendor.bundle.addons.js"></script>
<!-- endinject -->
<!-- Plugin js for this page-->
<!-- End plugin js for this page-->
<!-- inject:js -->
<script src="../../assets/js/shared/off-canvas.js"></script>
<script src="../../assets/js/shared/misc.js"></script>
<!-- endinject -->
<!-- Custom js for this page-->
<script src="../../assets/js/shared/jquery.cookie.js" type="text/javascript"></script>
<!-- End custom js for this page-->
</body>

</html>